<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton-framework/1.1.1/skeleton.css">
    <script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
    <script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>
    <script>
            
            function getData(){
            var clients=4;
            var name=[];
            var leads=[];
            for (var i =0;i<clients;i++){
                name.push(Name[i]);
                leads.push(leads[i]);
            }
            console.log(name);
            console.log(leads);
            
            }
            
            window.onload = function () {
            
          
            
            var options = {
                title: {
                    text: "Customers and Number of New Leads"
                },
                
                animationEnabled: true,
                data: [{
                    type: "pie",
                    startAngle: 40,
                    toolTipContent: "<b>{label}</b>: {y}%",
                    showInLegend: "true",
                    legendText: "{label}",
                    indexLabelFontSize: 16,
                    indexLabel: "{label} - {y}%",
                    labels:"wow",
                    data: "1"         
                
                }]
            
            };
            console.log(sessionStorage['Name']);
            console.log(sessionStorage['leads']);
            //getData();
            $("#chartContainer").CanvasJSChart(options);
            
            }
    </script>
    <title>Leads and Clients</title>
</head>
<body>
    <h1>Report Dashboard</h1>
    <div class='form group'>
        <form action="/date" method="post">
            <input type="date" name="first_date" id="first_date">
            <input type="date" name="second_date" id="second_date">
            <input type="submit" value="Update">
        </form>
    </div>
    <table>
        <thead>
            <th>Customer Name</th>
            <th>Number of leads</th>
        </thead>
        <tbody>       
        <!-- TABLE INPUT FROM DB -->
        {%for client in clients%}
        <tr>
            <td>{{client['Name']}}</td>
            <td>{{client['leads']}}</td>
        </tr>
        {%endfor%}
        </tbody>
    </table>        
    <div id='chartContainer'>
        <!-- GRAPH FROM DB DATA -->
    </div>
    {{clients}}
</body>
</html>